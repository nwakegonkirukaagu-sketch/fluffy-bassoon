import { supabase } from "./supabaseHelper.js";

async function protect() {
  const { data } = await supabase.auth.getSession();
  if (!data.session) {
    window.location.replace("/index.html");
    return;
  }

  const user = data.session.user;
  document.getElementById("username").textContent = user.email;
}

protect();

document.getElementById("signOut")?.addEventListener("click", async () => {
  await supabase.auth.signOut();
  window.location.replace("/index.html");
});
